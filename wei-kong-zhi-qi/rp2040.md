# RP2040

## 欢迎使用 RP2040

欢迎使用由树莓派设计的 RP2040 微控制器。

![rp2040](https://www.raspberrypi.com/documentation/microcontrollers/images/rp2040.jpg)

无论你使用的是[树莓派 Pico](https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html#technical-specification) 还是其他基于 RP2040 的微控制器主板，你所需的一切这都有。你可以找到在树莓派 Pico 上使用[C/C++](https://www.raspberrypi.com/documentation/microcontrollers/c_sdk.html#sdk-setup)、[MicroPython](https://www.raspberrypi.com/documentation/microcontrollers/micropython.html#what-is-micropython) 的方法，并且还有其他使用 RP2040 的主板的资源链接。此外，还提供了树莓派 Pico 微控制器板和我们的 RP2040 微控制器芯片的技术文档链接。

## 技术规格

RP2040 是树莓派推出的首款微控制器。它将我们的高性能、低成本和易用性的特性带入了微控制器领域。

具有大容量片上存储器、对称双核处理器复合体、确定性总线结构和丰富的外设集，再加上我们独特的可编程 I/O（PIO）子系统，为专业用户提供了无与伦比的功能和灵活性。配备详细的文档、精心设计的 MicroPython 端口以及 ROM 中的 UF2 引导加载程序，为初学者和爱好者提供了尽可能低的入门门槛。

RP2040 是一个无状态设备，支持从外部 QSPI 存储器进行缓存的执行。这种设计决策使你可以根据应用需求选择合适的非易失性存储密度，并从商品化闪存部件的低价格中受益。

RP2040 采用现代 40 纳米工艺制造，提供高性能、低动态功耗和低泄漏，支持多种低功耗模式，以支持电池供电的长时间操作。

主要特性：

* 双 ARM Cortex-M0+ @ 133MHz
* 六个独立的存储芯片的 264KB 片上 SRAM
* 通过专用 QSPI 总线支持高达 16MB 的片外 Flash 存储器
* DMA 控制器
* 完全连接的 AHB 交叉开关
* 插值器和整数除法器外设
* 片上可编程 LDO 以生成核心电压
* 两个片上 PLL 用于生成 USB 和核心时钟
* 30 针 GPIO 引脚，其中 4 个可用作模拟输入
* 外设
  * 2 个 UART
  * 2 个 SPI 控制器
  * 2 个 I²C 控制器
  * 16 条 PWM 通道
  * USB 1.1 控制器和 PHY，支持主机和设备
  * 8 个 PIO 状态机

##### [为低待机电流应用配置 RP2040 电源开关](https://pip.raspberrypi.com/categories/685-whitepapers-app-notes/documents/RP-004339-WP/Power-switching-RP2040-for-low-standby-current-applications.pdf)

为低待机电流应用配置 RP2040 电源开关

即使在深度睡眠模式下，RP2040 的典型电流为约 180μA，睡眠电流非常依赖于 PVT：工艺（电流因芯片而异）、电压（电流与电压线性变化）、温度（电流与温度非线性变化）。

对于许多需要最小电流的用例，最佳选择是在可能的情况下完全关闭系统（或系统中的 RP2040 部分）。本应用笔记提供了几种实现方式，这些电路设计简单，设计者可以根据自己的用例进行调整。

### 为什么这个芯片叫 RP2040？

RP2040 芯片名称中的后缀数字来自以下几个方面，

![rp2040 explanation](https://www.raspberrypi.com/documentation/microcontrollers/images/rp2040_explanation.svg?hash=9dee3ce29af06c85907f53920dec48be)

1. 处理器核心数量（2 个）
2. 处理器类型（M0+）
3. floor(log2(内存 / 16k))
4. floor(log2(非易失性存储 / 16k)) 或者如果没有内置非易失性存储则为 0

### 设计文件

* 下载 [最小可行板](https://datasheets.raspberrypi.com/rp2040/Minimal-KiCAD.zip) 设计文件 (KiCad)
* 下载 [VGA 扩展板](https://datasheets.raspberrypi.com/rp2040/VGA-KiCAD.zip) 设计文件 (KiCad)

## 内部温度传感器

在 [GitHub](https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/microcontrollers/rp2040/temp_sensor.adoc) 上编辑

RP2040 芯片包中的内部温度传感器是一个低分辨率传感器，需要用户校准才能实现任何程度的精度。

准确测量温度的关键部分是知道 ADC VREF 电压。转换公式意味着 ADC VREF 电压的小误差可能会导致温度计算中的相当大的差异。RP2040 没有内部固定电压参考，可用于确定 VREF 电压，因此需要手动测量 VREF 电压 - 需要注意它可能会变化 - 或者提供外部固定电压参考。

>**注意**
>
>RP2040 传感器的电压随温度升高而下降。 

查看 [RP2040 数据手册](https://datasheets.raspberrypi.com/rp2040/rp2040-datasheet.pdf) 第 4 章第 4.9.5 节，了解更多关于内部温度传感器的详细信息。

## 文档

树莓派 Pico 和其他基于 RP2040 的开发板的文档。

### RP2040 设备

[RP2040 数据手册](https://datasheets.raspberrypi.com/rp2040/rp2040-datasheet.pdf) - 由树莓派推出的微控制器

[使用 RP2040 设计硬件](https://datasheets.raspberrypi.com/rp2040/hardware-design-with-rp2040.pdf) - 使用 RP2040 微控制器构建板和产品

### 树莓派 Pico

[树莓派 Pico 数据手册](https://datasheets.raspberrypi.com/pico/pico-datasheet.pdf) - 基于 RP2040 的微控制器板

[开始使用树莓派 Pico](https://datasheets.raspberrypi.com/pico/getting-started-with-pico.pdf) - 使用 C/C++开发树莓派 Pico 和其他基于 RP2040 的微控制器板

### 树莓派 Pico W

[树莓派 Pico W 数据手册](https://datasheets.raspberrypi.com/picow/pico-w-datasheet.pdf) - 带有无线功能的基于 RP2040 的微控制器板

[使用树莓派 Pico W 连接互联网](https://datasheets.raspberrypi.com/picow/connecting-to-the-internet-with-pico-w.pdf) - 使用 C/C++或 MicroPython 让树莓派 Pico W 上网

>**注意**
>
>在 [使用树莓派 Pico W 连接互联网](https://datasheets.raspberrypi.com/picow/connecting-to-the-internet-with-pico-w.pdf) 书中介绍了使用 C/C++或 MicroPython 在树莓派 Pico W 上工作的 Wi-Fi 和蓝牙文档。 


### 软件开发

[树莓派 Pico C/C++ SDK](https://datasheets.raspberrypi.com/pico/raspberry-pi-pico-c-sdk.pdf) 是用于在 RP2040 微控制器上进行 C/C++开发的库和工具。

[树莓派 Pico Python SDK](https://datasheets.raspberrypi.com/pico/raspberry-pi-pico-python-sdk.pdf) 是用于 RP2040 微控制器的 MicroPython 环境。

树莓派 Pico C/C++ SDK 的 API 级别的 Doxygen 文档也可以作为一个微型站点访问，链接在这里：[rptl.io/pico-doxygen](https://rptl.io/pico-doxygen)。

>**注意**
>
>针对 Windows 10 和 Windows 11，可以使用[一键安装程序](https://github.com/raspberrypi/pico-setup-windows/releases/latest/download/pico-setup-windows-x64-standalone.exe) 安装 Pico C/C++ SDK。


## 基于 RP2040 的开发板

由树莓派设计的 [树莓派 Pico](https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html) 系列是基于 RP2040 的一系列开发板，既可以作为开发板，也可以作为参考设计。目前，Pico 系列包括树莓派 Pico（最左侧）、Pico H（左侧）、Pico W（右侧）和 Pico WH（最右侧）。

![pico family](https://www.raspberrypi.com/documentation/microcontrollers/images/pico_family.jpg?hash=3f928dff64ab31c4f3b1caecf4fb83a4)

树莓派 Pico 和 Pico W 的设计文件是开放获取的，没有限制。

* 下载[树莓派 Pico 的设计文件](https://datasheets.raspberrypi.com/pico/RPi-Pico-R3-PUBLIC-20200119.zip)（Cadence Allegro）
* 下载[树莓派 Pico W 的设计文件](https://datasheets.raspberrypi.com/picow/RPi-PicoW-PUBLIC-20220607.zip)（Cadence Allegro）

允许使用、复制、修改和/或分发此设计，无论是否收取费用。

本设计按原样提供，作者对包括所有暗示的适销性和适用性在内的所有此设计的所有隐含保证不承担任何责任。在任何情况下，作者对因使用或本设计的使用或性能而导致的任何特殊的、直接的、间接的或后果性的损害或任何损害不承担责任。

### 其他开发板

你可以在[树莓派论坛](https://forums.raspberrypi.com/viewforum.php?f=147) 上找到关于第三方基于 RP2040 的开发板的讨论。

#### USB PID

许多基于 RP2040 的设备使用了树莓派的 USB 供应商 ID 和产品 ID 组合。如果你基于 RP2040 构建了第三方板，可能需要一个唯一的 USB 产品 ID（PID）。

如果需要为 Windows 用户提供自定义驱动程序，可能需要一个唯一的 USB PID。

USB-IF 已经允许树莓派授权使用其供应商 ID（`0x2E8A`）的 USB 产品 ID 值，用于与 RP2040 一起使用的常见硅元件。

要预留与树莓派供应商 ID 相关联的 USB PID，请按照[Raspberry Pi USB PID git 存储库](https://github.com/raspberrypi/usb-pid) 中的说明操作。

>**注意**
>
>如果使用标准的 RP2040 PID，则可以使用`iManufacturer`、`iProduct`和`iSerial`字符串来唯一标识你的设备。 
